(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+uTL":function(module,e,t){"use strict";t.d(e,"a",function(){return o}),t.d(e,"b",function(){return i}),t.d(e,"c",function(){return s});var r=t("HRhj"),n=t("sQ/U"),o=function getForumSubscription(e,t){return r.a.getSubscription(e,t).then(function(e){return Object.assign(e.elements[0],{isSubscribed:!0})}).catch(function(t){if(404===t.status)return{id:e,isSubscribed:!1};throw t})},i=function subscribeUserToEntity(e,t){if(n.a.isAuthenticatedUser())return r.a.subscribe(e,t)},s=function unsubscribeUserFromEntity(e,t){if(n.a.isAuthenticatedUser())return r.a.unsubscribe(e,t)}},"1IZ7":function(module,exports,e){},"7Zu8":function(module,exports,e){},AZBp:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("VbXa"),i=t.n(o),s=t("VkAN"),a=t.n(s),c=t("AeFk"),u=t("kvW3"),d=t("oEt1"),p=t("eJMc"),l=t.n(p),b=t("17x9"),m=t.n(b),f=t("q1tI"),h=t.n(f),g=t("F/us"),O=t.n(g),S=t("JacN"),v=t("as3Y"),j=t("QXTe"),y=t("py0D"),I=t("u6zc"),w=t("T/K2"),T=t("abvH"),F=t("NMx/"),x=t("dJDe"),P=t("kRCD"),N=t("sWYI"),D=t("2BcA"),k=t("GqWO"),A=t("2xl4"),E=t("WE4C"),C=t("6JtA"),q=t("Nxpp"),U=t("8cuT"),B=t("+LJP"),R=t("ii1C"),V=t("5+aF"),L=t("e8+g"),M=t("GP6s"),z=t.n(M),W=t("PDuk");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _templateObject(){var e=a()(["\n\t.back-area {\n\t\tmargin-right: ",";\n\t\t.back-arrow {\n\t\t\tpadding-left: ",";\n\t\t\tmargin-right: ",";\n\t\t\tmargin-bottom: 10px;\n\t\t\ttransition: all 0.1s ease-in-out;\n\t\t}\n\t\t&:hover {\n\t\t\t.back-arrow {\n\t\t\t\tpadding: ",";\n\t\t\t\ttransition: all 0.1s ease-in-out;\n\t\t\t}\n\t\t}\n\t}\n\t.discussion-content {\n\t\tmargin-top: 20px;\n\t\t.frost-container {\n\t\t\tposition: relative;\n\t\t}\n\t\th1 {\n\t\t\tmargin-top: 0;\n\t\t}\n\t}\n\t.mentor-message {\n\t\tline-height: 30px;\n\t\theight: 30px;\n\t\twidth: 100%;\n\t\tbackground-color: #ff0;\n\t\tborder: 1px solid #e5e600;\n\t}\n\t.sr-only {\n\t\tposition: absolute;\n\t\twidth: 1px;\n\t\theight: 1px;\n\t\tmargin: -1px;\n\t\tpadding: 0;\n\t\toverflow: hidden;\n\t\tclip: rect(0, 0, 0, 0);\n\t\tborder: 0;\n\t}\n\t.metadata {\n\t\tline-height: 18px;\n\t\t.rc-NextViewName {\n\t\t\tmargin-left: ",";\n\t\t}\n\t}\n\t.action-area {\n\t\tbutton {\n\t\t\tborder: none;\n\t\t\tbackground-color: inherit;\n\t\t\t&:hover {\n\t\t\t\tcolor: $color-primary;\n\t\t\t}\n\t\t}\n\t}\n\t.rc-CML {\n\t\tmargin: ",";\n\t}\n\t.rc-DetailedQuestion {\n\t\tmargin-top: ",";\n\t}\n\t.rc-HighlightedReply {\n\t\tmargin-top: ",";\n\t}\n\t.rc-RepliesList {\n\t\tmargin-top: ",";\n\t\tpadding: ",";\n\t}\n\t.reply-container {\n\t\tpadding: ",";\n\t\tmargin-top: 48px;\n\t\tborder-radius: 3px;\n\t\tbackground-color: #00f;\n\t\t.rc-ProfileArea {\n\t\t\tmargin: ",";\n\t\t}\n\t\t.rc-ReplyCML {\n\t\t\tflex: 1;\n\t\t}\n\t}\n\t.rc-ThreadSettings {\n\t\tmargin-bottom: 10px;\n\t}\n\n  @media {\n    $phone-or-smaller {\n      .rc-ThreadDetail .rc-DetailedQuestion {\n      padding: ",";\n    }\n  }\n\n"]);return _templateObject=function _templateObject(){return e},e}var J=function styles(e){return Object(c.c)(_templateObject(),e.spacing(8),e.spacing(4),e.spacing(4),e.spacing(0,4,0,0),e.spacing(4),e.spacing(8,0,16),e.spacing(24),e.spacing(24),e.spacing(24),e.spacing(0,0,24,0),e.spacing(12),e.spacing(4),e.spacing(24,12))},X=D.d.limitPerPage,G=function(e){function ThreadDetail(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={canTeach:!1,inputClickCounter:0},t._isMounted=!1,t.fetchAnswerPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.props,n=r.answerId,o=r.questionId,i=r.courseId,s=r.courseSlug,a=r.userId,c=r.contextId,u=r.currentForum,d=r.currentForumUrl,p=r.sort,l=r.page,b=e||n;if(!b)return;var m=Object(W.c)([i,b]);Object(A.b)(m,p,X).then(function(e){e===l?t.context.executeAction(S.b,{questionId:o,courseId:i,courseSlug:s,userId:a,contextId:c,sort:p,page:l,forumType:u&&u.forumType.typeName,includeDeleted:t.props.hasModerationRole}):t.context.router.replace({pathname:t.context.router.location.pathname,params:{},query:_objectSpread(_objectSpread({},t.context.router.location.query),{page:e})})}).fail(function(){var e=d;t.context.router.replace(Object(k.a)(e,o)),t.context.executeAction(S.b,{userId:a,courseId:i,courseSlug:s,contextId:c,questionId:o,sort:D.f.detailSort,page:D.f.detailPage,forumType:u&&u.forumType.typeName,includeDeleted:t.props.hasModerationRole})}).done()},t}i()(ThreadDetail,e);var t=ThreadDetail.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props,t=e.questionId,r=e.sort,n=e.page,o=e.answerId,i=e.userId,s=e.courseId,a=e.courseSlug,c=e.contextId,u=e.currentForum;this.context.executeAction(S.d,{questionId:t,userId:i,contextId:c,sort:r,page:n,forumType:u&&u.forumType.typeName}),o||1===n&&r===D.f.detailSort||this.context.executeAction(S.b,{questionId:t,userId:i,courseId:s,courseSlug:a,contextId:c,sort:r,page:n,forumType:u&&u.forumType.typeName,includeDeleted:this.props.hasModerationRole})},t.componentDidMount=function componentDidMount(){this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0},t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.questionId,r=e.userId,n=e.courseId,o=e.courseSlug,i=e.contextId,s=e.sort,a=e.page,c=e.currentForum;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(S.b,{questionId:t,userId:r,courseId:n,courseSlug:o,contextId:i,sort:s,page:a,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}):this.props.answerSavingState===D.m.SAVING&&e.answerSavingState===D.m.SAVED&&(this.context.executeAction(S.b,{questionId:t,userId:r,courseId:n,courseSlug:o,contextId:i,sort:s,page:a,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:D.c.newestSort}}))},t.componentDidUpdate=function componentDidUpdate(e,t,r){(e.questionId!==this.props.questionId||e.currentForum&&e.currentForum.id!==this.props.currentForum.id)&&this.markRead()},t.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},t.getRole=function getRole(){var e=this,t=this.props,r=t.authenticated,n=t.isSuperuser,o=t.currentForum,i=o&&o.forumType.definition.groupId;i?Object(q.a)(i,r,n).then(function(t){e._isMounted&&e.setState({canTeach:t})}):this.setState({canTeach:this.props.hasModerationRole})},t.getBackLinkDescription=function getBackLinkDescription(){return this.props.currentForum.title},t.markRead=function markRead(){E.a.markRead(this.props.questionId)},t.render=function render(){var e=this,t=this.props,r=t.question,n=t.isClosed,o=t.isPinned,i=t.currentForumUrl,s=t.currentForum,a=t.sort,p=t.page,b=t.questionId,m=t.answerId,f=t.latestNewThreadId,h=t.commentId,g=t.courseId,O=i,S=s&&s.forumType.typeName,x=D.j.mentorForumType,P=D.j.groupForumType,k=s&&[x,P].indexOf(S)<0,A=k,E=this.state.canTeach&&r&&k,q=r?Object(d.c)(r):"undefined-thread-legend",U=this.state.inputClickCounter,B=Object(C.a)();return Object(c.d)("div",{className:"rc-ThreadDetail"},r&&Object(c.d)("h2",{id:q,className:"screenreader-only"},Object(c.d)(u.b,{message:z()("Thread: {title}"),title:r.content.question})),E&&Object(c.d)(j.a,{isPinned:o,question:r}),f===b&&Object(c.d)("div",{className:"sr-only","aria-live":"polite"},Object(c.d)(u.b,{message:z()("Your new thread was created")})),Object(c.d)("div",{className:"discussion-content"},Object(c.d)("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},Object(c.d)(l.a,{to:this.props.backLink,className:"back-area nostyle"},Object(c.d)("div",{className:"horizontal-box align-items-vertical-center"},Object(c.d)("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"}),Object(c.d)("h1",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&r&&Object(c.d)(N.a,{question:r,shouldShowMoveThread:A})),Object(c.d)("div",{className:"frost-container"},Object(c.d)("div",null,Object(c.d)(v.a,{goToInput:function goToInput(){return e.setState({inputClickCounter:U+1})},question:r,isPinned:o,forumLink:O}),n&&Object(c.d)("div",{className:"c-thread-locked card-no-action color-secondary-text"},Object(c.d)("div",{className:"horizontal-box align-items-absolute-center"},Object(c.d)("i",{className:"cif-lock"}),z()("This thread is closed. You cannot add any more responses.")))),Object(c.d)("div",null,Object(L.a)(g,S)&&Object(c.d)(w.a,{answerId:m,commentId:h,forumLink:O,questionId:b,fetchAnswerPosition:this.fetchAnswerPosition}),r&&Object(c.d)(T.a,{page:p,sort:a,answerId:m,commentId:h,forumLink:O,questionId:b,fetchAnswerPosition:this.fetchAnswerPosition}),!n&&Object(c.d)("div",{className:"reply-container horizontal-box"},Object(c.d)(I.a,{fullName:B.get("fullName"),externalUserId:B.get("externalUserId"),profileImageUrl:B.getProfileImageUrl()}),r&&Object(c.d)(F.a,{question:r,parentPost:r,savingState:this.props.answerSavingState,shouldFocusCounter:this.state.inputClickCounter,ariaLabel:z()("Reply to this thread"),ariaDescribedBy:q})),r&&r.state&&r.state.deleted&&Object(c.d)(y.a,{entry:r,hideUndoDelete:!1})))))},ThreadDetail}(h.a.Component);G.contextTypes={executeAction:m.a.func.isRequired,router:m.a.object.isRequired},e.a=O.a.compose(Object(U.a)(["ThreadDetailsStore","ThreadsStore","ThreadSettingsStore","CourseStore","ApplicationStore"],function(e,t){var r=e.ThreadDetailsStore,n=e.ThreadsStore,o=e.ThreadSettingsStore,i=e.CourseStore,s=e.ApplicationStore,a=t.questionId,c=r.getQuestion(a),u=n.threadToInsert&&n.threadToInsert.questionId;return{question:c,courseId:i.getCourseId(),courseSlug:i.getCourseSlug(),answerSavingState:c&&r.savingStates[c.id],isClosed:o.isClosed(),isPinned:o.isPinned(),latestNewThreadId:u,userId:s.getUserData().id,authenticated:s.isAuthenticatedUser(),isSuperuser:s.isSuperuser()}}),Object(V.a)({fields:["link","title"],subcomponents:[x.a,F.a,P.a]}),Object(B.a)(R.a))(G)},AgXR:function(module,e,t){"use strict";t.d(e,"c",function(){return s}),t.d(e,"a",function(){return a}),t.d(e,"b",function(){return c});var r=t("lSNA"),n=t.n(r),o=t("+uTL"),i=t("sQ/U");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function fetchSubscriptionForForum(e,t){var r=t.forumSubscriptionId,n=t.forumType;if(i.a.isAuthenticatedUser())return o.a(r,n).then(function(t){e.dispatch("UPDATE_SUBSCRIPTION",t)}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))},a=function addSubscription(e,t){var r=t.forumSubscriptionId,n=t.forumType;if(i.a.isAuthenticatedUser())return e.dispatch("UPDATE_SUBSCRIPTION",{id:r,isInProgress:!0}),o.b(r,n).then(function(){e.dispatch("UPDATE_SUBSCRIPTION",{id:r,isSubscribed:!0})}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))},c=function deleteSubscription(e,t){var r=t.subscription,n=t.forumSubscriptionId,s=t.forumType;if(i.a.isAuthenticatedUser())return e.dispatch("UPDATE_SUBSCRIPTION",_objectSpread(_objectSpread({},r),{},{isInProgress:!0})),o.c(n,s).then(function(){e.dispatch("UPDATE_SUBSCRIPTION",{id:n,isSubscribed:!1})}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))}},HRhj:function(module,e,t){"use strict";var r=t("S+eF"),n=t.n(r),o=t("TSOT"),i=t("2BcA"),s=Object(o.a)("/api/onDemandCourseForumSubscriptions.v1",{type:"rest"}),a=Object(o.a)("/api/onDemandMentorForumSubscriptions.v1",{type:"rest"}),c=Object(o.a)("/api/groupForumSubscriptions.v1",{type:"rest"}),u=function getSubscription(e,t){return t===i.j.mentorForumType?n()(a.get(e)):t===i.j.groupForumType?n()(c.get(e)):n()(s.get(e))},d=function subscribe(e,t){return t===i.j.mentorForumType?n()(a.put(e)):t===i.j.groupForumType?n()(c.put(e)):n()(s.put(e))},p=function unsubscribe(e,t){return t===i.j.mentorForumType?n()(a.delete(e)):t===i.j.groupForumType?n()(c.delete(e)):n()(s.delete(e))};e.a={getSubscription:u,subscribe:d,unsubscribe:p}},HbX8:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),o=t("2BcA");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.a=function(e){if(!e.currentForum)return e;var t=e.courseForums.concat(e.mentorForums).concat(e.groupForums),r=t.find(function(e){return e.forumType.typeName===o.j.rootForumType}),n=e.currentForum;e.currentForum.parentForumId&&e.currentForum.parentForumId!==r.id&&(n=t.find(function(t){return t.id===e.currentForum.parentForumId}));var i=t.filter(function(e){return e.parentForumId===n.id});return i.unshift(n),_objectSpread(_objectSpread({},e),{},{listedForums:i,parentForumId:n.id})}},KomV:function(module,exports,e){var t=e("7Zu8"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},RYD2:function(module,e,t){"use strict";var r=t("pVnL"),n=t.n(r),o=t("VbXa"),i=t.n(o),s=t("w/1P"),a=t.n(s),c=t("CsdX"),u=t("q1tI"),d=t.n(u),p=t("eJMc"),l=t.n(p),b=t("F/us"),m=t.n(b),f=t("cIEV"),h=t.n(f),g=function emptyFunction(){},O=function(e){function Breadcrumbs(){return e.apply(this,arguments)||this}i()(Breadcrumbs,e);var t=Breadcrumbs.prototype;return t.getFilteredLinks=function getFilteredLinks(){var e;return this.props.links.slice().filter(b.identity)},t.render=function render(){var e=this.props,t=e.className,r=e.linkClassName,o=e.separator,i=e.separatorStyles,s=this.getFilteredLinks();return d.a.createElement("ol",{className:a()("rc-Breadcrumbs inline",t)},s.map(function(e,t){var a=[d.a.createElement("li",null,e.href?d.a.createElement(l.a,{className:r,to:e.href,onClick:e.onClick||g},e.label):d.a.createElement("span",{className:r},e.label))];return t!==s.length-1&&a.push(d.a.createElement("li",n()({},Object(c.d)("divider",i),{"aria-hidden":!0}),o||"/")),a}))},Breadcrumbs}(d.a.Component);e.a=O},"cD+G":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("17x9"),i=t.n(o),s=t("q1tI"),a=t.n(s),c=t("F/us"),u=t.n(c),d=t("w/1P"),p=t.n(d),l=t("eJMc"),b=t.n(l),m=t("BVC1"),f=t("BZ+2"),h=t("zFZo"),g=t("weTL"),O=t("+LJP"),S=t("ii1C"),v=t("W1i5"),j=t("GqWO"),y=t("HbX8"),I=t("5+aF"),w=t("6fvP"),T=t("GP6s"),F=t.n(T),x=t("vJ/u"),P=t.n(x),N=function(e){function SubforumSidebar(t){var r;return(r=e.call(this,t)||this).resourcePanelEpic=w.b.enabledResourcePanelToPublic(),r}var t;return n()(SubforumSidebar,e),SubforumSidebar.prototype.render=function render(){var e=this,t=this.props,r=t.listedForums,n=t.currentForumId,o=t.parentForumId,i=t.courseSlug;if(!r||r.length<=1)return null;return a.a.createElement("div",{className:"rc-SubforumSidebar card-rich-interaction flex-1"},a.a.createElement("h2",{className:"subforums-list-title headline-1-text color-secondary-text"},F()("Subforums")),a.a.createElement("ul",{className:"nostyle"},r.map(function(t){var r=p()("forum-title",{"body-2-text":t.id===n,"body-1-text":t.id!==n}),s=m.a.join(Object(j.j)(i),t.link),c=Object(j.m)(t.forumId);return s=e.resourcePanelEpic&&c||s,a.a.createElement("li",{className:"subforum-entry"},a.a.createElement(b.a,{key:t.id,to:s,className:"nostyle","aria-current":t.id===n},t.id===n&&a.a.createElement("div",{className:"current-forum-indicator"}),a.a.createElement("div",{className:r},t.id===o?F()("All"):t.title)))})))},SubforumSidebar}(a.a.Component);N.propTypes={courseSlug:i.a.string,listedForums:i.a.arrayOf(i.a.oneOfType([i.a.instanceOf(f.a),i.a.instanceOf(h.a),i.a.instanceOf(g.a)])),currentForumId:i.a.string,parentForumId:i.a.string},e.a=u.a.compose(Object(I.a)({fields:["link","title","description","parentForumId"]}),Object(O.a)(S.a),Object(v.a)(y.a))(N)},cIEV:function(module,exports,e){var t=e("qyVU"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"fDg+":function(module,exports,e){},hSS9:function(module,exports,e){var t=e("1IZ7"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},oRWh:function(module,e,t){"use strict";t.d(e,"a",function(){return y});var r=t("pVnL"),n=t.n(r),o=t("VbXa"),i=t.n(o),s=t("AeFk"),a=t("w/1P"),c=t.n(a),u=t("8Hdl"),d=t("fAYU"),p=t("VS/1"),l=t("CsdX"),b=t("q1tI"),m=t.n(b),f=t("eJMc"),h=t.n(f),g=t("F/us"),O=t.n(g),S=t("cIEV"),v=t.n(S),j=function emptyFunction(){},y=function(e){function Breadcrumbs(){return e.apply(this,arguments)||this}i()(Breadcrumbs,e);var t=Breadcrumbs.prototype;return t.getFilteredLinks=function getFilteredLinks(){var e;return this.props.links.slice().filter(g.identity)},t.render=function render(){var e=this.props,t=e.className,r=e.linkClassName,o=e.separator,i=e.separatorStyles,a=this.getFilteredLinks();return Object(s.d)("nav",{"aria-label":"Breadcrumbs"},Object(s.d)("ol",{className:c()("rc-Breadcrumbs inline",t)},a.map(function(e,t){var c=[Object(s.d)(u.a,{component:"li"},e.href?Object(s.d)(d.a,{variant:"quiet",component:h.a,className:r,to:e.href},e.label):Object(s.d)("span",n()({},t===a.length-1&&{"aria-current":"location"},{className:r}),e.label))];return t!==a.length-1&&c.push(Object(s.d)("li",n()({},Object(l.d)("divider",i),{"aria-hidden":!0}),o||Object(s.d)(p.a,{size:"small"}))),c})))},Breadcrumbs}(m.a.Component)},qyVU:function(module,exports,e){},"vJ/u":function(module,exports,e){var t=e("fDg+"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},o=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},wZgz:function(module,e,t){"use strict";t.r(e);var r=t("VkAN"),n=t.n(r),o=t("VbXa"),i=t.n(o),s=t("17x9"),a=t.n(s),c=t("q1tI"),u=t.n(c),d=t("F/us"),p=t.n(d),l=t("BVC1"),b=t("wvSq"),m=t("GqWO"),f=t("AeFk"),h=t("8Hdl"),g=t("7GkZ"),O=t("zfwB"),S=t("zwd1"),v=t("fg2g"),j=t("cD+G"),y=t("cwGm"),I=t("AZBp"),w=t("ypD2"),T=t("ii1C"),F=t("HbX8"),x=t("2BcA"),P=t("5+aF"),N=t("W1i5"),D=t("+LJP"),k=t("GP6s"),A=t.n(k),E=t("KomV"),C=t.n(E),q=t("6fvP"),U=t("jrIE");function _templateObject(){var e=n()(["\n                    margin-bottom: 12px;\n                    line-height: 36px;\n                  "]);return _templateObject=function _templateObject(){return e},e}var B=function(e){function ThreadsView(t){var r;return(r=e.call(this,t)||this).renderBreadCrumbs=function(){var e,t=r.props.currentForum,n,o=!!r.context.router.params.question_id;t.parentForumId&&r.props.listedForums.forEach(function(e){(null==t?void 0:t.parentForumId)&&e&&e.id&&t.parentForumId===e.id&&(n=e)});var i=[{label:A()("Discussion Forums"),href:Object(m.h)()}],s=n?{label:n.title,href:l.a.join(Object(m.j)(r.props.courseSlug),n.link)}:void 0,a;return s&&i.push(s),!!(null===(e=r.context.router.location.query)||void 0===e?void 0:e.q)?((i=[]).push({label:A()("Course Overview"),href:Object(m.i)(r.props.courseSlug)}),i.push({label:A()("Forums"),href:Object(m.h)()}),i.push({label:A()("Search results")})):o?i.push({label:t.title,href:l.a.join(Object(m.j)(r.props.courseSlug),t.link)}):i.push({label:t.title}),Object(f.d)(O.a,{separator:Object(f.d)(U.a,{size:16,color:"#1F1F1F"}),className:"breadcrumbs",links:i})},r.resourcePanelEnabled=q.b.enabledResourcePanelToPublic(),r}i()(ThreadsView,e);var t=ThreadsView.prototype;return t.renderSubscriptionButton=function renderSubscriptionButton(){var e=this.props.currentForum;if(!e||e.forumType.typeName===x.j.itemForumType)return null;return Object(f.d)("div",{className:"flex-1"},Object(f.d)(S.a,{forumId:this.props.currentForum&&this.props.currentForum.id,forumType:this.props.currentForum&&this.props.currentForum.forumType.typeName,groupId:this.props.currentForum&&this.props.currentForum.forumType.definition.groupId}))},t.render=function render(){var e,t=this.props.currentForum;if(!t)return Object(f.d)("div",{className:"forum-name headline-5-text color-primary-text"},A()("Oops! Looks like this thread isn't viewable or does not exist."));var r=t.title,n=t.description,o=t.id,i=!!this.context.router.params.question_id,s=!!(null===(e=this.context.router.location.query)||void 0===e?void 0:e.q);return Object(f.d)("div",{className:"rc-personalization_ThreadsView"},Object(f.d)("div",{className:"horizontal-box vertical-when-tablet"},Object(f.d)("div",{className:"flex-2 threads-view-header"},this.renderBreadCrumbs(),Object(f.d)("div",null,!i&&!s&&Object(f.d)(h.a,{variant:"h1semibold",css:Object(f.c)(_templateObject())},r),!i&&!s&&Object(f.d)("div",{className:"forum-description horizontal-box"},Object(f.d)(g.a,{cml:n,isCdsEnabled:!0}),Object(f.d)("div",null,this.renderSubscriptionButton())))),Object(f.d)("div",{className:"flex-1 align-self-end session-switcher-container"},Object(f.d)(v.a,null))),Object(f.d)("div",{className:"horizontal-box align-items-top vertical-when-tablet"},Object(f.d)(b.a,{className:"flex-2 discussions-body-column",key:o})))},ThreadsView}(u.a.Component);B.contextTypes={router:a.a.object.isRequired},e.default=Object(d.compose)(Object(P.a)({fields:["title","description","link"],subcomponents:[j.a,y.a,I.a,w.a]}),Object(D.a)(T.a),Object(N.a)(F.a))(B)},zfwB:function(module,e,t){"use strict";var r=t("RYD2"),n=t("oRWh");t.d(e,"a",function(){return n.a});var o=r.a},zwd1:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),o=t("AeFk"),i=t("F/us"),s=t.n(i),a=t("17x9"),c=t.n(a),u=t("q1tI"),d=t.n(u),p=t("sQ/U"),l=t("AgXR"),b=t("ZJgU"),m=t("8xbv"),f=t("q5zD"),h=t("8cuT"),g=t("GP6s"),O=t.n(g),S=t("hSS9"),v=t.n(S);function SubscribeButton(e){var t=e.onClick,r=e.className,n=e.isSubscriptionInProgress,i=e.isSubscribed,s=e.subscription,a=i?O()("Unsubscribe"):O()("Subscribe"),c,u=!n&&null===s?O()("Error"):a;if(n)return Object(o.d)(f.a,{name:"spinner",className:"cif-spin"});return Object(o.d)(b.a,{className:r,type:"button",size:"small",variant:"ghost",onClick:t,disabled:!s,icon:n&&Object(o.d)(m.a,{size:"small"}),iconPosition:n&&"after"},u)}var j=function(e){function ForumsV2SubscriptionButton(t,r){var n;return(n=e.call(this,t,r)||this).toggleSubscription=function(){var e=n.props,t=e.isSubscribed,r=e.forumType,o=e.subscription,i=e.forumSubscriptionId;t?(n.context.executeAction(l.b,{subscription:o,forumSubscriptionId:i,forumType:r}),n.setState({showSubscriptionDetails:!0,subscriptionDetails:O()("You will no longer receive emails whenever new threads are added.")})):(n.context.executeAction(l.a,{forumType:r,forumSubscriptionId:i}),n.setState({showSubscriptionDetails:!0,subscriptionDetails:O()("You will receive emails whenever new threads are added.")}))},n.state={subscriptionDetails:{},showSubscriptionDetails:!1},n}n()(ForumsV2SubscriptionButton,e);var t=ForumsV2SubscriptionButton.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.subscription,r=e.forumSubscriptionId,n=e.forumType;null!==t&&(t||this.context.executeAction(l.c,{forumType:n,forumSubscriptionId:r}))},t.componentDidUpdate=function componentDidUpdate(){var e=this.props,t=e.subscription,r=e.forumSubscriptionId,n=e.forumType;null!==t&&(t||this.context.executeAction(l.c,{forumType:n,forumSubscriptionId:r}))},t.render=function render(){var e=this.props,t=e.subscription,r=e.isSubscribed,n=e.hasError,i=e.isSubscriptionInProgress,s=this.state,a=s.showSubscriptionDetails,c=s.subscriptionDetails;return Object(o.d)("div",{className:"rc-ForumsV2__SubscriptionButton horizontal-box vertical-when-mobile align-items-vertical-center"},Object(o.d)(SubscribeButton,{className:"subscription-button",onClick:this.toggleSubscription,disabled:!t,isSubscriptionInProgress:i,subscription:t,isSubscribed:r}),!n&&a&&Object(o.d)("div",{className:"message caption-text"},c),n&&Object(o.d)("div",{className:"errorMessage"},O()("Sorry, something went wrong. Try again.")),a&&Object(o.d)("span",{className:"screenreader-only","aria-live":"polite"},t&&!i&&r?O()("Subscribed, You will receive emails whenever new threads are added."):O()("Unsubscribed, You will no longer receive emails whenever new threads are added.")))},ForumsV2SubscriptionButton}(d.a.Component);j.contextTypes={executeAction:c.a.func.isRequired},e.a=s.a.compose(Object(h.a)(["SubscriptionStore","CourseMembershipStore","CourseStore"],function(e,t){var r=e.SubscriptionStore,n=null==t?void 0:t.forumId,o=n&&n.split("~"),i=n&&"".concat(p.a.get().id,"~").concat(o[0],"~").concat(o[1]),s=p.a.isAuthenticatedUser();return{forumSubscriptionId:i,hasError:r.hasError(),subscription:s&&!r.hasError()?r.getSubscription(i):null,isSubscribed:s&&!r.hasError()?r.getIsSubscribed(i):null,isSubscriptionInProgress:s&&!r.hasError()?r.getIsSubscriptionInProgress(i):null}}))(j)}}]);
//# sourceMappingURL=12.52ccf366c228bf2159bb.js.map